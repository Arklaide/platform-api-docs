swagger: "2.0"
info:
  description: "The Debbie APIs is a RESTful interface, allowing you to programmatically update, add and access much of your data on the platform. It provides predictable URLs for accessing resources, and uses built-in HTTP features to receive commands and return responses. This makes it easy to communicate with third party systems."
  version: "v1.0.0"
  title: "Debbie Platform API Docs"
  termsOfService: "https://debbie.dk/terms"
  contact:
    email: "support@debbie.dk"
  x-logo:
    url: "https://debbie-platform.github.io/platform-api-docs/deb-logo.svg"
host: "api.debbieapp.com"

basePath: "/v1"
tags:
  - name: "General"
    description: "The API fundamentals"
  - name: "Cases"
    description: "Everything about cases"
  - name: "Economy"
    description: "Everything about economy"
  - name: "Creditors"
    description: "Create and update creditors"
  - name: "Updates"
    description: "Update case"
  - name: "Interactions"
    description: "Create notes and messages"
  - name: "Webhooks"
    description: "Register new webhooks and delete them"
schemes:
  - "https"
paths:
  /files:
    post:
      tags:
        - "General"
      summary: "Upload file"
      description: "Store files like invoices and agreements by using this endpoint."
      operationId: "upload-file"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Data for the file"
          required: true
          schema:
            $ref: "#/definitions/NewFile"
      responses:
        "200":
          description: "successful operation"
          schema:
            $ref: "#/definitions/File"

  /files/:fileId:
    get:
      tags:
        - "General"
      summary: "Retrieve files"
      description: "Get uploaded files with this endpoint."
      operationId: "get-file"
      produces:
        - "contentType"
      responses:
        "200":
          description: "Success"
  /files/:fileId/:optionalFileName:
    get:
      tags:
        - "General"
      summary: "Retrieve files"
      description: "Get uploaded files with this endpoint."
      operationId: "get-file-with-optional-file-name"
      produces:
        - "contentType"
      responses:
        "200":
          description: "Success"
  /cases:
    post:
      tags:
        - "Cases"
      summary: "Create new case"
      description: "Upload new cases"
      operationId: "create-case"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Pet object that needs to be added to the store"
          required: true
          schema:
            $ref: "#/definitions/File"
      responses:
        "405":
          description: "Invalid input"
  /cases/:caseId:
    get:
      tags:
        - "Cases"
      summary: "How to authenticate to the platform"
      description: "Different ways to authenticate"
      operationId: "get-case"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Pet object that needs to be added to the store"
          required: true
          schema:
            $ref: "#/definitions/File"
      responses:
        "405":
          description: "Invalid input"

  /economy:
    post:
      tags:
        - "Economy"
      summary: "Add deposit"
      description: "Add deposit to a case or without a case"
      operationId: "add-deposit"
      responses:
        "405":
          description: "Invalid input"

  /creditors:
    post:
      tags:
        - "Creditors"
      summary: "Create creditor"
      description: "Create new creditor"
      operationId: "create-creditor"
      responses:
        "405":
          description: "Invalid input"

    get:
      tags:
        - "Creditors"
      summary: "Get creditor"
      description: "Get creditor"
      operationId: "get-creditor"
      responses:
        "405":
          description: "Invalid input"

    put:
      tags:
        - "Creditors"
      summary: "Update creditor"
      description: "Update creditor"
      operationId: "update-creditor"
      responses:
        "405":
          description: "Invalid input"

  /updates/:caseId:
    post:
      tags:
        - "Updates"
      summary: "Add update to a case"
      description: "Add an update to a case to describe it and/or to pause the case and/or remind a caseworker."
      operationId: "new-update"
      responses:
        "405":
          description: "Invalid input"

    get:
      tags:
        - "Updates"
      summary: "Get update on a case"
      description: "Get all updates on a case."
      operationId: "get-updates-on-case"
      responses:
        "405":
          description: "Invalid input"

  /updates/types:
    get:
      tags:
        - "Updates"
      summary: "Get update types"
      description: "Get all possible update types"
      operationId: "get-update-types"
      responses:
        "405":
          description: "Invalid input"

  /interations/:caseId:
    post:
      tags:
        - "Interactions"
      summary: "Create interactions"
      description: "Create notes, emails, messages and much more"
      operationId: "create-new-interactions"
      responses:
        "405":
          description: "Invalid input"

    get:
      tags:
        - "Interactions"
      summary: "Create notes, messages and much more"
      description: "Different ways to authenticate"
      operationId: "get-interactions-on-case"
      responses:
        "405":
          description: "Invalid input"

  /webhooks:
    post:
      tags:
        - "Webhooks"
      summary: "Create webhook"
      description: "Create new webhook"
      operationId: "create-new-webhook"
      responses:
        "405":
          description: "Invalid input"

    get:
      tags:
        - "Webhooks"
      summary: "Get webhooks"
      description: "Get webhook"
      operationId: "get-webhook"
      responses:
        "405":
          description: "Invalid input"

    delete:
      tags:
        - "Webhooks"
      summary: "Delete webhook"
      description: "Delete created webhook"
      operationId: "delete-webhook"
      responses:
        "405":
          description: "Invalid input"

securityDefinitions:
  Query Parameter:
    type: "apiKey"
    name: "X-Debbie-Auth-Token: <YOUR_VERY_SECRET_TOKEN>"
    in: "header"
  Header Parameter:
    type: "apiKey"
    name: "authToken=<YOUR_VERY_SECRET_TOKEN>"
    in: "query"

definitions:
  NewFile:
    type: "object"
    properties:
      content:
        type: "string"
        format: "base64"
      fileName:
        type: "string"
      contentType:
        type: "string"
  File:
    type: "object"
    properties:
      fileId:
        type: "string"
externalDocs:
  description: "Find out more about Debbie"
  url: "https://debbie.dk"
